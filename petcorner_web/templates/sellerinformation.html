<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Corner | Seller Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='sellerinformation.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@300;400;700&display=swap" rel="stylesheet">

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="{{ url_for('static', filename='images/petcornerlogo2.png') }}" alt="Logo" width="350">
            </a>
        </div>
    </nav>

    <!-- Registration Form -->
    <div class="regform">
        <div class="image-container">
            <img src="{{ url_for('static', filename='images/petbg.png') }}" alt="Your Image">
        </div>
        <div class="form-container">
            <h2 class="text-center text-white mb-4">SELLER REGISTRATION</h2>
            <form action="/register_seller" method="POST" enctype="multipart/form-data" class="row g-3">
                <div class="col-md-4">
                    <label for="lastname" class="form-label text-white">Last Name</label>
                    <input type="text" id="lastname" name="lastname" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="firstname" class="form-label text-white">First Name</label>
                    <input type="text" id="firstname" name="firstname" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="middlename" class="form-label text-white">Middle Name</label>
                    <input type="text" id="middlename" name="middlename" class="form-control">
                </div>
                <div class="col-md-6">
                    <label for="birthday" class="form-label text-white">Birthday</label>
                    <input type="date" id="birthday" name="birthday" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label for="gender" class="form-label text-white">Gender</label>
                    <select id="gender" name="gender" class="form-select" required>
                        <option value="" disabled selected>Sex</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="province" class="form-label text-white">Province</label>
                    <select id="province" name="province" class="form-select" required>
                        <option value="" disabled selected>Select Province</option>
                        <option value="Laguna">Laguna</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="municipality" class="form-label text-white">Municipality</label>
                    <select id="municipality" name="municipality" class="form-select" required>
                        <option value="" disabled selected>Select Municipality</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="barangay" class="form-label text-white">Barangay</label>
                    <select id="barangay" name="barangay" class="form-select" required>
                        <option value="" disabled selected>Select Barangay</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="postalCode" class="form-label text-white">Postal Code</label>
                    <input type="number" id="postalCode" name="postalCode" class="form-control" required min="1000"
                        max="99999" readonly style="user-select: none;">
                </div>
                <div class="col-md-6">
                    <label for="contact" class="form-label text-white">Contact Number</label>
                    <input type="tel" id="contact" name="contact" class="form-control" required value="09">
                </div>                
                <div class="col-md-6">
                    <label for="shopname" class="form-label text-white">Shop Name</label>
                    <input type="text" id="shopname" name="shopname" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label for="idtype" class="form-label text-white">Type of ID</label>
                    <select id="idtype" name="idtype" class="form-select" required>
                        <option value="" disabled selected>Select ID type</option>
                        <option value="passport">Passport</option>
                        <option value="driver_license">Driver's License</option>
                        <option value="national_id">National ID</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="uploadedid" class="form-label text-white">Upload ID (Image)</label>
                    <input type="file" id="uploadedid" name="uploadedid" class="form-control" accept="image/*" required>
                </div>
                <div class="col-md-6">
                    <label for="businesspermit" class="form-label text-white">Upload Business Permit (Image)</label>
                    <input type="file" id="businesspermit" name="businesspermit" class="form-control" accept="image/"
                        required>
                </div>
                <div class="col-12">
                    <br>
                    <div class="button-group">
                        <a href="#" class="btn btn-secondary" id="cancelBtn">CANCEL</a>
                        <button type="submit" class="btn btn-primary" id="registerBtn">REGISTER</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"></script>
    <script>
        function closeMessage(element) {
            element.closest('.flash-messages').style.display = 'none';
        }
    </script>
    <script>
        // JavaScript for handling dynamic dropdowns
        const municipalityData = {
            'Laguna': {
                'Victoria': ['Banca-banca', 'Daniw', 'Masapang', 'Nanhaya', 'Pagalangan', 'San Benito', 'San Felix', 'San Francisco', 'San Roque'],
                'Pila': ['Aplaya', 'Bukal', 'Bulilan Norte', 'Bulilan Sur', 'Concepcion', 'Labuin', 'Linga', 'Masico', 'Mojon', 'Pansol', 'Pinagbayanan', 'San Antonio', 'San Miguel', 'Santa Clara Norte', 'Santa Clara Sur', 'Tubuan'],
                'Santa Cruz': ['Alipit', 'Bagumbayan', 'Bubukal', 'Calios', 'Duhat', 'Gatid', 'Jasaan', 'Labuin', 'Malinao', 'Oogong', 'Pagsawitan', 'Palasan', 'Patimbao', 'Poblacion I', 'Poblacion II', 'Poblacion III', 'Poblacion IV', 'Poblacion V', 'San Jose', 'San Juan', 'San Pablo Norte', 'San Pablo Sur', 'Santisima Cruz', 'Santo Angel Central', 'Santo Angel Norte', 'Santo Angel Sur'],
                'Pagsanjan': ['Anibong', 'Bi√±an', 'Buboy', 'Cabanbanan', 'Calusiche', 'Dingin', 'Lambac', 'Layugan', 'Magdapio', 'Maulawin', 'Pinagsanjan', 'Barangay I', 'Barangay II', 'Sabang', 'Sampaloc', 'San Isidro']
            }
        };

        const postalCodes = {
            'Victoria': '4011',
            'Pila': '4010',
            'Santa Cruz': '4009',
            'Pagsanjan': '4008'
        };

        // Handle province change
        document.getElementById('province').addEventListener('change', function () {
            const province = this.value;
            const municipalitySelect = document.getElementById('municipality');
            const barangaySelect = document.getElementById('barangay');
            const postalCodeField = document.getElementById('postalCode');

            // Reset municipality, barangay, and postal code
            municipalitySelect.innerHTML = '<option value="" disabled selected>Select Municipality</option>';
            barangaySelect.innerHTML = '<option value="" disabled selected>Select Barangay</option>';
            postalCodeField.value = '';

            if (municipalityData[province]) {
                Object.keys(municipalityData[province]).forEach(function (municipality) {
                    const option = document.createElement('option');
                    option.value = municipality;
                    option.textContent = municipality;
                    municipalitySelect.appendChild(option);
                });
            }
        });

        // Handle municipality change
        document.getElementById('municipality').addEventListener('change', function () {
            const municipality = this.value;
            const barangaySelect = document.getElementById('barangay');
            const postalCodeField = document.getElementById('postalCode');

            // Reset barangay and postal code
            barangaySelect.innerHTML = '<option value="" disabled selected>Select Barangay</option>';
            postalCodeField.value = '';

            if (municipalityData['Laguna'][municipality]) {
                municipalityData['Laguna'][municipality].forEach(function (barangay) {
                    const option = document.createElement('option');
                    option.value = barangay;
                    option.textContent = barangay;
                    barangaySelect.appendChild(option);
                });
            }

            // Set postal code
            if (postalCodes[municipality]) {
                postalCodeField.value = postalCodes[municipality];
            }
        });
    </script>
    <script>
        // JavaScript for enforcing the limit and prepend "09"
        document.getElementById('contact').addEventListener('input', function () {
            // Enforce the '09' prefix
            if (!this.value.startsWith('09')) {
                this.value = '09' + this.value.replace(/^09/, ''); // Ensure it starts with '09'
            }

            // Limit the input to 11 characters
            if (this.value.length > 11) {
                this.value = this.value.slice(0, 11); // Truncate if more than 11 characters
            }
        });
    </script>
</body>

</html>